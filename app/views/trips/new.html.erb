<div data-controller="loading">
  <div class="container my-4" data-loading-target= "form">
    <div class="row justify-content-center">
      <div class="col-12 col-sm-4 bg-light p-4 ">
        <h1>Create a trip</h1>
        <hr>
        <%= simple_form_for @trip, data: {
                        insert_in_list_target: "form",
                        action: "submit->loading#loader"
                      } do |f| %>
          <%= f.input :name, label:'Trip name' %>
          <%= f.input :location, label:'From',
                      collection: Destination::DESTINATION,
                      input_html: { class: "select2 w-100" } %>
          <%= f.input :destination, label:'To',
                      collection: Destination::DESTINATION,
                      input_html: { class: "select2 w-100" } %>
          <%= f.input :start_date, as: :string,
                                  required: true,
                                  input_html: {class: "datepicker"} %>
          <%= f.input :end_date, as: :string,
                                  required: true,
                                  input_html: {class: "datepicker"} %>
          <%= f.input :adults, label: 'Number of adults', input_html: { min: '1'} %>
          <%= f.input :rooms, label: 'Number of rooms', input_html: { min: '1'} %>
          <%= f.input :budget, label:'Max budget' %>
          <%= f.input :budgetCurrency, collection: Trip::CURRENCY %>
          <%= f.submit "Send", class: "btn btn-blue" %>
        <% end %>
      </div>
    </div>
  </div>

  <div class="loading-box d-none" data-loading-target="circles">
    <div class="loading-circles">
      <div class="loading-circle"></div>
      <div class="loading-circle"></div>
      <div class="loading-circle"></div>
    </div>
    <br>
    <div class="loading-text">
      <p>We are looking for your perfect trip...</p>
    </div>
  </div>
</div>
